/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package solace.library;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Statement;
import javax.swing.JOptionPane;
import net.proteanit.sql.DbUtils;

/**
 *
 * @author sachith
 */
public class User extends javax.swing.JPanel {

    /**
     * Creates new form User
     */
    
    Connection con = null;
    PreparedStatement pst = null;
    ResultSet rs = null;
    
    public User() {
        initComponents();
        
        //connect to DB
        con = DBconnection.connect();
        table_users.getTableHeader().setReorderingAllowed(false);
        
        lbl_username.setText(String.valueOf(Library.lib).toString());
        
        imagesett();
        getdetails();
        tableload();
        
    }
    
    
    
    
    public void imagesett(){
        
        String comval;
        comval = String.valueOf(Library.comboval).toString();
        
        if(comval.equals("Admin")){
            img_admin.setVisible(true);
            img_student.setVisible(false);
            jPanel3.setVisible(true);
            
        }
        
        else{
            img_student.setVisible(true);
            img_admin.setVisible(false);
            jPanel3.setVisible(false);
            
            
        }
    }
    
    public  void clear(){
        
        txt_address.setText("");
            cmb_position.setSelectedIndex(0);
            
            txt_email.setText("");
            txt_idno.setText("");
            txt_name.setText("");
            txt_password.setText("");
            txt_telno.setText("");
            txt_username.setText("");
    }
    
    
    public void getdetails(){
        
        try {
            String unamee=lbl_username.getText();
            
            
            String selectqq="select * from users where username='"+unamee+"'";
            
            
            Statement st =con.createStatement();
            rs= st.executeQuery(selectqq);
            
            while(rs.next()){
                String Email=rs.getString("email");
            lbl_email.setText(Email);
            
            String telno=rs.getString("telno");
            lbl_telno.setText(telno);
            
            String name=rs.getString("name");
            lbl_name.setText("<html>"+name+"</html>");
            
            String idno=rs.getString("IDNo");
            lbl_idno.setText(idno);
            
            String address=rs.getString("address");
            lbl_address.setText("<html>"+address+"</html>");
            
            
            }
        
            
            
            
                    
                   
        } catch (Exception e) {
            
            JOptionPane.showMessageDialog(null, e);
        }
    }
    
    public void tableload(){
        
        try {
            String selectq = "select username,address,email,IDNo,name,telno,position from users";
            pst = con.prepareStatement(selectq);
            rs=pst.executeQuery();
            
            table_users.setModel(DbUtils.resultSetToTableModel(rs));
            
            
            
            
        } catch (Exception e) {
        }
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        lbl_Dashboard1 = new javax.swing.JLabel();
        lbl_dashicon = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        lbl_address = new javax.swing.JLabel();
        lbl_username = new javax.swing.JLabel();
        lbl_Dashboard23 = new javax.swing.JLabel();
        lbl_Dashboard24 = new javax.swing.JLabel();
        lbl_email = new javax.swing.JLabel();
        lbl_telno = new javax.swing.JLabel();
        lbl_Dashboard27 = new javax.swing.JLabel();
        lbl_Dashboard28 = new javax.swing.JLabel();
        lbl_name = new javax.swing.JLabel();
        lbl_Dashboard30 = new javax.swing.JLabel();
        lbl_idno = new javax.swing.JLabel();
        lbl_Dashboard33 = new javax.swing.JLabel();
        img_admin = new javax.swing.JLabel();
        img_student = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        lbl_Dashboard15 = new javax.swing.JLabel();
        txt_username = new javax.swing.JTextField();
        lbl_Dashboard16 = new javax.swing.JLabel();
        txt_name = new javax.swing.JTextField();
        lbl_Dashboard17 = new javax.swing.JLabel();
        txt_idno = new javax.swing.JTextField();
        lbl_Dashboard18 = new javax.swing.JLabel();
        txt_email = new javax.swing.JTextField();
        lbl_Dashboard19 = new javax.swing.JLabel();
        lbl_Dashboard20 = new javax.swing.JLabel();
        txt_telno = new javax.swing.JTextField();
        lbl_Dashboard21 = new javax.swing.JLabel();
        txt_address = new javax.swing.JTextField();
        cmb_position = new javax.swing.JComboBox<>();
        lbl_Dashboard22 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        table_users = new javax.swing.JTable();
        jLabel3 = new javax.swing.JLabel();
        txt_search = new javax.swing.JTextField();
        btn_Uupdate = new javax.swing.JButton();
        btn_UCreate = new javax.swing.JButton();
        btn_Udelete = new javax.swing.JButton();
        txt_password = new javax.swing.JPasswordField();

        setBackground(new java.awt.Color(242, 242, 242));
        setPreferredSize(new java.awt.Dimension(930, 590));
        setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_Dashboard1.setFont(new java.awt.Font("Century Gothic", 0, 18)); // NOI18N
        lbl_Dashboard1.setForeground(new java.awt.Color(105, 105, 105));
        lbl_Dashboard1.setText("User");
        add(lbl_Dashboard1, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 10, 170, 20));

        lbl_dashicon.setFont(new java.awt.Font("Century Gothic", 0, 18)); // NOI18N
        lbl_dashicon.setForeground(new java.awt.Color(105, 105, 105));
        lbl_dashicon.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/user111.png"))); // NOI18N
        add(lbl_dashicon, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 0, 40, 40));

        jPanel2.setBackground(new java.awt.Color(0, 85, 127));
        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 1, true), "User Information", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Century Gothic", 1, 12), new java.awt.Color(255, 255, 255))); // NOI18N
        jPanel2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_address.setBackground(new java.awt.Color(255, 255, 255));
        lbl_address.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_address.setForeground(new java.awt.Color(255, 255, 255));
        lbl_address.setText("address");
        jPanel2.add(lbl_address, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 180, 470, 40));

        lbl_username.setBackground(new java.awt.Color(255, 255, 255));
        lbl_username.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_username.setForeground(new java.awt.Color(255, 255, 255));
        lbl_username.setText("user");
        jPanel2.add(lbl_username, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 20, 470, 20));

        lbl_Dashboard23.setBackground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard23.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_Dashboard23.setForeground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard23.setText("Username:");
        jPanel2.add(lbl_Dashboard23, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 20, 110, 20));

        lbl_Dashboard24.setBackground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard24.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_Dashboard24.setForeground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard24.setText("Email:");
        jPanel2.add(lbl_Dashboard24, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 50, 110, 20));

        lbl_email.setBackground(new java.awt.Color(255, 255, 255));
        lbl_email.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_email.setForeground(new java.awt.Color(255, 255, 255));
        lbl_email.setText("email");
        jPanel2.add(lbl_email, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 50, 470, 20));

        lbl_telno.setBackground(new java.awt.Color(255, 255, 255));
        lbl_telno.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_telno.setForeground(new java.awt.Color(255, 255, 255));
        lbl_telno.setText("mobile");
        jPanel2.add(lbl_telno, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 80, 470, 20));

        lbl_Dashboard27.setBackground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard27.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_Dashboard27.setForeground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard27.setText("Telephone No:");
        jPanel2.add(lbl_Dashboard27, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 80, 130, 20));

        lbl_Dashboard28.setBackground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard28.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_Dashboard28.setForeground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard28.setText("Name:");
        jPanel2.add(lbl_Dashboard28, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 150, 110, 20));

        lbl_name.setBackground(new java.awt.Color(255, 255, 255));
        lbl_name.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_name.setForeground(new java.awt.Color(255, 255, 255));
        lbl_name.setText("name");
        jPanel2.add(lbl_name, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 140, 470, 40));

        lbl_Dashboard30.setBackground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard30.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_Dashboard30.setForeground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard30.setText("ID No:");
        jPanel2.add(lbl_Dashboard30, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 110, 110, 20));

        lbl_idno.setBackground(new java.awt.Color(255, 255, 255));
        lbl_idno.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_idno.setForeground(new java.awt.Color(255, 255, 255));
        lbl_idno.setText("nic");
        jPanel2.add(lbl_idno, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 110, 470, 20));

        lbl_Dashboard33.setBackground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard33.setFont(new java.awt.Font("Century Gothic", 0, 14)); // NOI18N
        lbl_Dashboard33.setForeground(new java.awt.Color(255, 255, 255));
        lbl_Dashboard33.setText("Address:");
        jPanel2.add(lbl_Dashboard33, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 190, 110, 20));

        img_admin.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/admin user.png"))); // NOI18N
        img_admin.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        img_admin.setPreferredSize(new java.awt.Dimension(178, 178));
        jPanel2.add(img_admin, new org.netbeans.lib.awtextra.AbsoluteConstraints(630, 20, -1, -1));

        img_student.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/user.png"))); // NOI18N
        img_student.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        img_student.setPreferredSize(new java.awt.Dimension(178, 178));
        jPanel2.add(img_student, new org.netbeans.lib.awtextra.AbsoluteConstraints(630, 20, -1, -1));

        add(jPanel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 40, 910, 220));

        jPanel3.setBackground(new java.awt.Color(242, 242, 242));
        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Manage account", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Century Gothic", 1, 12), new java.awt.Color(102, 102, 102))); // NOI18N
        jPanel3.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lbl_Dashboard15.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        lbl_Dashboard15.setForeground(new java.awt.Color(102, 102, 102));
        lbl_Dashboard15.setText("Username:");
        jPanel3.add(lbl_Dashboard15, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 80, 100, 20));

        txt_username.setBackground(new java.awt.Color(255, 255, 255));
        txt_username.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        txt_username.setForeground(new java.awt.Color(69, 73, 74));
        txt_username.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(105, 105, 105), 1, true));
        jPanel3.add(txt_username, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 80, 250, 20));

        lbl_Dashboard16.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        lbl_Dashboard16.setForeground(new java.awt.Color(102, 102, 102));
        lbl_Dashboard16.setText("Password:");
        jPanel3.add(lbl_Dashboard16, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 110, 100, 20));

        txt_name.setBackground(new java.awt.Color(255, 255, 255));
        txt_name.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        txt_name.setForeground(new java.awt.Color(69, 73, 74));
        txt_name.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(105, 105, 105), 1, true));
        jPanel3.add(txt_name, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 50, 250, 20));

        lbl_Dashboard17.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        lbl_Dashboard17.setForeground(new java.awt.Color(102, 102, 102));
        lbl_Dashboard17.setText("Name:");
        jPanel3.add(lbl_Dashboard17, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 50, 100, 20));

        txt_idno.setBackground(new java.awt.Color(255, 255, 255));
        txt_idno.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        txt_idno.setForeground(new java.awt.Color(69, 73, 74));
        txt_idno.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(105, 105, 105), 1, true));
        txt_idno.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_idnoKeyReleased(evt);
            }
        });
        jPanel3.add(txt_idno, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 20, 250, 20));

        lbl_Dashboard18.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        lbl_Dashboard18.setForeground(new java.awt.Color(102, 102, 102));
        lbl_Dashboard18.setText("ID No:");
        jPanel3.add(lbl_Dashboard18, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 20, 90, 20));

        txt_email.setBackground(new java.awt.Color(255, 255, 255));
        txt_email.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        txt_email.setForeground(new java.awt.Color(69, 73, 74));
        txt_email.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(105, 105, 105), 1, true));
        jPanel3.add(txt_email, new org.netbeans.lib.awtextra.AbsoluteConstraints(520, 20, 250, 20));

        lbl_Dashboard19.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        lbl_Dashboard19.setForeground(new java.awt.Color(102, 102, 102));
        lbl_Dashboard19.setText("Email:");
        jPanel3.add(lbl_Dashboard19, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 20, 110, 20));

        lbl_Dashboard20.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        lbl_Dashboard20.setForeground(new java.awt.Color(102, 102, 102));
        lbl_Dashboard20.setText("Telephone No:");
        jPanel3.add(lbl_Dashboard20, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 50, 120, 20));

        txt_telno.setBackground(new java.awt.Color(255, 255, 255));
        txt_telno.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        txt_telno.setForeground(new java.awt.Color(69, 73, 74));
        txt_telno.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(105, 105, 105), 1, true));
        txt_telno.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_telnoKeyTyped(evt);
            }
        });
        jPanel3.add(txt_telno, new org.netbeans.lib.awtextra.AbsoluteConstraints(520, 50, 250, 20));

        lbl_Dashboard21.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        lbl_Dashboard21.setForeground(new java.awt.Color(102, 102, 102));
        lbl_Dashboard21.setText("Select Position:");
        jPanel3.add(lbl_Dashboard21, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 110, 110, 20));

        txt_address.setBackground(new java.awt.Color(255, 255, 255));
        txt_address.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        txt_address.setForeground(new java.awt.Color(69, 73, 74));
        txt_address.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(105, 105, 105), 1, true));
        jPanel3.add(txt_address, new org.netbeans.lib.awtextra.AbsoluteConstraints(520, 80, 250, 20));

        cmb_position.setBackground(new java.awt.Color(255, 255, 255));
        cmb_position.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        cmb_position.setForeground(new java.awt.Color(69, 73, 74));
        cmb_position.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Admin", "staff", "Student" }));
        cmb_position.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(105, 105, 105)));
        jPanel3.add(cmb_position, new org.netbeans.lib.awtextra.AbsoluteConstraints(520, 110, 250, 30));

        lbl_Dashboard22.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        lbl_Dashboard22.setForeground(new java.awt.Color(102, 102, 102));
        lbl_Dashboard22.setText("Address:");
        jPanel3.add(lbl_Dashboard22, new org.netbeans.lib.awtextra.AbsoluteConstraints(380, 80, 110, 20));

        table_users.setBackground(new java.awt.Color(255, 255, 255));
        table_users.setFont(new java.awt.Font("Century Gothic", 0, 13)); // NOI18N
        table_users.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        table_users.setRowHeight(20);
        table_users.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                table_usersMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(table_users);
        if (table_users.getColumnModel().getColumnCount() > 0) {
            table_users.getColumnModel().getColumn(0).setHeaderValue("Title 1");
            table_users.getColumnModel().getColumn(1).setHeaderValue("Title 2");
            table_users.getColumnModel().getColumn(2).setHeaderValue("Title 3");
            table_users.getColumnModel().getColumn(3).setHeaderValue("Title 4");
        }

        jPanel3.add(jScrollPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 200, 890, 120));

        jLabel3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/magnifier.png"))); // NOI18N
        jPanel3.add(jLabel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(310, 170, 30, 30));

        txt_search.setBackground(new java.awt.Color(255, 255, 255));
        txt_search.setFont(new java.awt.Font("Century Gothic", 0, 16)); // NOI18N
        txt_search.setForeground(new java.awt.Color(69, 73, 74));
        txt_search.setToolTipText("Enter your Username or IDNo");
        txt_search.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(105, 105, 105), 1, true));
        txt_search.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_searchKeyReleased(evt);
            }
        });
        jPanel3.add(txt_search, new org.netbeans.lib.awtextra.AbsoluteConstraints(340, 170, 220, 20));

        btn_Uupdate.setBackground(new java.awt.Color(0, 85, 127));
        btn_Uupdate.setForeground(new java.awt.Color(255, 255, 255));
        btn_Uupdate.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Update button.png"))); // NOI18N
        btn_Uupdate.setText("Update");
        btn_Uupdate.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btn_UupdateMouseClicked(evt);
            }
        });
        jPanel3.add(btn_Uupdate, new org.netbeans.lib.awtextra.AbsoluteConstraints(790, 140, 110, 40));

        btn_UCreate.setBackground(new java.awt.Color(0, 85, 127));
        btn_UCreate.setForeground(new java.awt.Color(255, 255, 255));
        btn_UCreate.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/create-group-button.png"))); // NOI18N
        btn_UCreate.setText("Create");
        btn_UCreate.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btn_UCreateMouseClicked(evt);
            }
        });
        jPanel3.add(btn_UCreate, new org.netbeans.lib.awtextra.AbsoluteConstraints(790, 20, 110, 40));

        btn_Udelete.setBackground(new java.awt.Color(0, 85, 127));
        btn_Udelete.setForeground(new java.awt.Color(255, 255, 255));
        btn_Udelete.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/cancel-button.png"))); // NOI18N
        btn_Udelete.setText("Delete");
        btn_Udelete.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btn_UdeleteMouseClicked(evt);
            }
        });
        jPanel3.add(btn_Udelete, new org.netbeans.lib.awtextra.AbsoluteConstraints(790, 80, 110, 40));

        txt_password.setBackground(new java.awt.Color(255, 255, 255));
        txt_password.setFont(new java.awt.Font("Century Gothic", 0, 15)); // NOI18N
        txt_password.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(105, 105, 105), 1, true));
        jPanel3.add(txt_password, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 110, 250, -1));

        add(jPanel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 260, 910, 330));
    }// </editor-fold>//GEN-END:initComponents

    private void table_usersMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_table_usersMouseClicked
        int r = table_users.getSelectedRow();
        
        String username = table_users.getValueAt(r, 0).toString();
        String address = table_users.getValueAt(r, 1).toString();
        String email = table_users.getValueAt(r, 2).toString();
        String IDNo = table_users.getValueAt(r, 3).toString();
        String name = table_users.getValueAt(r, 4).toString();
        String telno = table_users.getValueAt(r, 5).toString();
        String position = table_users.getValueAt(r, 6).toString();
        //String password = table_users.getValueAt(r, 7).toString();
        
        txt_username.setText(username);
        txt_address.setText(address);
        txt_email.setText(email);
        txt_idno.setText(IDNo);
        txt_name.setText(name);
        txt_telno.setText(telno);
        txt_password.setText("+++++encrypted+++++");
        
        cmb_position.setSelectedItem(position);
        
        
        
    }//GEN-LAST:event_table_usersMouseClicked

    private void btn_UCreateMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btn_UCreateMouseClicked
        
        try {
            
            String cname=txt_name.getText();
        String cidno=txt_idno.getText();
        String caddress=txt_address.getText();
        String ctelno=txt_telno.getText();
        String cemail=txt_email.getText();
        String cusername=txt_username.getText();
        String cpassword=txt_password.getText();
        //String Repassword=txt_repw.getText();
        //String adminpw=txt_adminpw.getText();
        String position=cmb_position.getSelectedItem().toString();
        
        String sha1=encryption.SHA1(cpassword);
        String sha512=encryption.SHA512(sha1);
        String md5=encryption.MD5(sha512);
        
       if(cname.isEmpty() || cidno.isEmpty() || caddress.isEmpty() || ctelno.isEmpty() || cemail.isEmpty() || cusername.isEmpty() || cpassword.isEmpty()){
           
           
           JOptionPane.showMessageDialog(null,"Please complete the form corectly.");
           
      
       }
        
        else{
            
           String sql="insert into users(IDNo,name,address,telno,email,username,password,position) values(?,?,?,?,?,?,?,?)";
                
                pst=con.prepareStatement(sql);
                
                pst.setString(1,cidno);
                pst.setString(2,cname);
                pst.setString(3,caddress);
                pst.setString(4,ctelno);
                pst.setString(5,cemail);
                pst.setString(6,cusername);
                pst.setString(7,md5);
                pst.setString(8,position);
                
                pst.execute();
                
                JOptionPane.showMessageDialog(null,"User Account successfully created.");
                
                clear();
                tableload();
            

            }
        } catch (Exception e) {
        }
        
        
       
       
       
    }//GEN-LAST:event_btn_UCreateMouseClicked

    
    
    
    private void btn_UdeleteMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btn_UdeleteMouseClicked
        
        if(txt_name.getText().isEmpty() || txt_idno.getText().isEmpty() || txt_address.getText().isEmpty() || txt_telno.getText().isEmpty() || txt_email.getText().isEmpty() || txt_username.getText().isEmpty() || txt_password.getText().isEmpty()){
            
            JOptionPane.showMessageDialog(null,"<html>Please select your member ID from the table"
                    + "\" or complete the form corectly.</html>");
        }
        else{
            
            int x = JOptionPane.showConfirmDialog(null,"Do you want to delete this");
        
        if(x==0){
            
            String id = txt_idno.getText();
            
            try {
                String deleteq="delete from users where IDNo='"+id+"'";
                pst = con.prepareStatement(deleteq);
                pst.execute();
                //load table
                tableload();
                
                clear();
                
                
            } catch (Exception e) {
            }
            
        }
        }
        
        
    }//GEN-LAST:event_btn_UdeleteMouseClicked

    private void btn_UupdateMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btn_UupdateMouseClicked
        
        if(txt_name.getText().isEmpty() || txt_idno.getText().isEmpty() || txt_address.getText().isEmpty() || txt_telno.getText().isEmpty() || txt_email.getText().isEmpty() || txt_username.getText().isEmpty() || txt_password.getText().isEmpty()){
            
            JOptionPane.showMessageDialog(null,"<html>Please select your member ID from the table"
                    + "\" or complete the form corectly.</html>");
        }
        
        else{
            
            int x = JOptionPane.showConfirmDialog(null,"Do you really want to update");
        
        if(x==0){
            String name=txt_name.getText();
        String idno=txt_idno.getText();
        String address=txt_address.getText();
        String telno=txt_telno.getText();
        String email=txt_email.getText();
        String username=txt_username.getText();
        String password=txt_password.getText();
        
        String position=cmb_position.getSelectedItem().toString();
        
        String sha1=encryption.SHA1(password);
        String sha512=encryption.SHA512(sha1);
        String md5=encryption.MD5(sha512);
            
            
            try {
                
                String updateq="update users set username='"+username+"',password='"+md5+"',position='"+position+"',name='"+name+"',address='"+address+"',telno='"+telno+"',email='"+email+"' where IDNo='"+idno+"'";
                pst = con.prepareStatement(updateq);
                pst.execute();
                //load table
                tableload();
                
                clear();
                
            } catch (Exception e) {
            }
            
        }
        }
        
        
        
    }//GEN-LAST:event_btn_UupdateMouseClicked

    private void txt_telnoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_telnoKeyTyped
        char c=evt.getKeyChar();

String text=txt_telno.getText();
       if (c == 43 && text.indexOf('+') != -1)
            {
                evt.consume();
            }
       if (!Character.isDigit(c) && c != 8 && c != 43)
            {
                evt.consume();
            }
    }//GEN-LAST:event_txt_telnoKeyTyped

    private void txt_idnoKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_idnoKeyReleased
        if(txt_idno.getText().equals("")){
            clear();
        }
    }//GEN-LAST:event_txt_idnoKeyReleased

    private void txt_searchKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_searchKeyReleased
        String name= txt_search.getText();
        
        try {
            String selectq="select username,address,email,IDNo,name,telno,position from users where username like'%"+name+"%' or IDNo like'%"+name+"%' ";
        
        pst = con.prepareStatement(selectq);
            rs=pst.executeQuery();
            
            table_users.setModel(DbUtils.resultSetToTableModel(rs));
        } catch (Exception e) {
        }
    }//GEN-LAST:event_txt_searchKeyReleased


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btn_UCreate;
    private javax.swing.JButton btn_Udelete;
    private javax.swing.JButton btn_Uupdate;
    private javax.swing.JComboBox<String> cmb_position;
    private javax.swing.JLabel img_admin;
    private javax.swing.JLabel img_student;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lbl_Dashboard1;
    private javax.swing.JLabel lbl_Dashboard15;
    private javax.swing.JLabel lbl_Dashboard16;
    private javax.swing.JLabel lbl_Dashboard17;
    private javax.swing.JLabel lbl_Dashboard18;
    private javax.swing.JLabel lbl_Dashboard19;
    private javax.swing.JLabel lbl_Dashboard20;
    private javax.swing.JLabel lbl_Dashboard21;
    private javax.swing.JLabel lbl_Dashboard22;
    private javax.swing.JLabel lbl_Dashboard23;
    private javax.swing.JLabel lbl_Dashboard24;
    private javax.swing.JLabel lbl_Dashboard27;
    private javax.swing.JLabel lbl_Dashboard28;
    private javax.swing.JLabel lbl_Dashboard30;
    private javax.swing.JLabel lbl_Dashboard33;
    private javax.swing.JLabel lbl_address;
    private javax.swing.JLabel lbl_dashicon;
    private javax.swing.JLabel lbl_email;
    private javax.swing.JLabel lbl_idno;
    private javax.swing.JLabel lbl_name;
    private javax.swing.JLabel lbl_telno;
    private javax.swing.JLabel lbl_username;
    private javax.swing.JTable table_users;
    private javax.swing.JTextField txt_address;
    private javax.swing.JTextField txt_email;
    private javax.swing.JTextField txt_idno;
    private javax.swing.JTextField txt_name;
    private javax.swing.JPasswordField txt_password;
    private javax.swing.JTextField txt_search;
    private javax.swing.JTextField txt_telno;
    private javax.swing.JTextField txt_username;
    // End of variables declaration//GEN-END:variables
}
